do_system_spawn_districts = {
  every_system_planet = {
    limit = { is_special_exotic_farming_pc = yes }
    set_planet_flag = do_exotic_farms
  }
  every_system_planet = {
    limit = { is_planet_class = pc_relic }
    set_planet_flag = do_ascended_housing
    set_planet_flag = do_archeology
  }
  every_system_planet = {
    limit = {
      OR = {
        is_planet_class = pc_aquatic
        is_planet_class = pc_aquatichot
        is_planet_class = pc_aquaticcold
        is_planet_class = pc_aquaticcity
      }
    }
    set_planet_flag = do_tidal_generator
    set_planet_flag = do_ocean_farming
    set_planet_flag = do_ocean_housing
  }
#####################################
# Energy: 3 = 70%, 2 = 50%, 1 = 20% #
#####################################
  # Wind Turbines III
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_wind_3 = yes
      NOT = { has_global_flag = wind_turbines_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_wind_turbines
      }
      30 = { }
    }
  }
  # Geothermal Generator III
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_geothermal_3 = yes
      NOT = { has_global_flag = geothermal_generator_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_geothermal_generator
      }
      30 = { }
    }
  }
  # Solar Generator III
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_sun_3 = yes
      NOT = { has_global_flag = solar_generator_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_solar_generator
      }
      30 = { }
    }
  }
  # Tidal Generator III
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_ocean_3 = yes
      NOT = { has_global_flag = tidal_generator_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_tidal_generator
      }
      30 = { }
    }
  }
  # Wind Turbines II
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_wind_2 = yes
      NOT = { has_global_flag = wind_turbines_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_wind_turbines
      }
      50 = { }
    }
  }
  # Geothermal Generator II
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_geothermal_2 = yes
      NOT = { has_global_flag = geothermal_generator_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_geothermal_generator
      }
      50 = { }
    }
  }
  # Solar Generator II
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_sun_2 = yes
      NOT = { has_global_flag = solar_generator_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_solar_generator
      }
      50 = { }
    }
  }
  # Tidal Generator II
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_ocean_2 = yes
      NOT = { has_global_flag = tidal_generator_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_tidal_generator
      }
      50 = { }
    }
  }
  # Wind Turbines I
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_wind_1 = yes
      NOT = { has_global_flag = wind_turbines_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_wind_turbines
      }
      80 = { }
    }
  }
  # Geothermal Generator I
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_geothermal_1 = yes
      NOT = { has_global_flag = geothermal_generator_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_geothermal_generator
      }
      80 = { }
    }
  }
  # Solar Generator I
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_sun_1 = yes
      NOT = { has_global_flag = solar_generator_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_solar_generator
      }
      80 = { }
    }
  }
  # Tidal Generator I
  every_system_planet = {
    limit = {
      can_have_random_energy_districts = yes
      has_ocean_1 = yes
      NOT = { has_global_flag = tidal_generator_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_tidal_generator
      }
      80 = { }
    }
  }
############################
# Mining: 2 = 70%, 1 = 20% #
############################
  # Cheap Mining II
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_unstable_ground_2 = yes
      NOT = { has_global_flag = cheap_mining_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_cheap_mining
      }
      30 = { }
    }
  }
  # Secure Mining II
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_stable_ground_2 = yes
      NOT = { has_global_flag = secure_mining_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_secure_mining
      }
      30 = { }
    }
  }
  # Surface Mining II
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_surface_ores_2 = yes
      NOT = { has_global_flag = surface_mining_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_surface_mining
      }
      30 = { }
    }
  }
  # Cheap Mining I
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_unstable_ground_1 = yes
      NOT = { has_global_flag = cheap_mining_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_cheap_mining
      }
      80 = { }
    }
  }
  # Secure Mining I
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_stable_ground_1 = yes
      NOT = { has_global_flag = secure_mining_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_secure_mining
      }
      80 = { }
    }
  }
  # Surface Mining I
  every_system_planet = {
    limit = {
      can_have_random_mining_districts = yes
      has_surface_ores_1 = yes
      NOT = { has_global_flag = surface_mining_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_surface_mining
      }
      80 = { }
    }
  }
######################################
# Farming: 3 = 70%, 2 = 50%, 1 = 20% #
######################################
  # Exotic Farms III
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_exotic_climate_3 = yes
      NOT = { has_global_flag = exotic_farm_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_exotic_farms
      }
      30 = { }
    }
  }
  # Ocean Farms III
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_ocean_3 = yes
      NOT = { has_global_flag = ocean_farm_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_ocean_farming
      }
      30 = { }
    }
  }
  # Nature Farm III
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_nature_3 = yes
      NOT = { has_global_flag = nature_farms_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_nature_farms
      }
      30 = { }
    }
  }
  # Hydroponic Bay III
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_no_nature_3 = yes
      NOT = { has_global_flag = hydroponic_bay_disabled }
    }
    random_list = {
      70 = {
        set_planet_flag = do_hydropionic_bay
      }
      30 = { }
    }
  }
  # Exotic Farms II
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_exotic_climate_2 = yes
      NOT = { has_global_flag = exotic_farm_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_exotic_farms
      }
      50 = { }
    }
  }
  # Ocean Farms II
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_ocean_2 = yes
      NOT = { has_global_flag = ocean_farm_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_ocean_farming
      }
      50 = { }
    }
  }
  # Nature Farm II
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_nature_2 = yes
      NOT = { has_global_flag = nature_farms_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_nature_farms
      }
      50 = { }
    }
  }
  # Hydroponic Bay II
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_no_nature_2 = yes
      NOT = { has_global_flag = hydroponic_bay_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_hydropionic_bay
      }
      50 = { }
    }
  }
  # Exotic Farms I
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_exotic_climate_1 = yes
      NOT = { has_global_flag = exotic_farm_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_exotic_farms
      }
      80 = { }
    }
  }
  # Ocean Farms I
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_ocean_1 = yes
      NOT = { has_global_flag = ocean_farm_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_ocean_farming
      }
      80 = { }
    }
  }
  # Nature Farm I
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_nature_1 = yes
      NOT = { has_global_flag = nature_farms_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_nature_farms
      }
      80 = { }
    }
  }
  # Hydroponic Bay I
  every_system_planet = {
    limit = {
      can_have_random_farming_districts = yes
      has_no_nature_1 = yes
      NOT = { has_global_flag = hydroponic_bay_disabled }
    }
    random_list = {
      20 = {
        set_planet_flag = do_hydropionic_bay
      }
      80 = { }
    }
  }
#####################
# Primary Districts #
#####################

######################################################################################
  # Ascended Housing V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_5 = yes
      NOT = { has_global_flag = ascended_housing_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_ascended_housing
      }
      0 = { }
    }
  }
  # Ascended Housing IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_4 = yes
      NOT = { has_global_flag = ascended_housing_disabled }
    }
    random_list = {
      60 = {
        set_planet_flag = do_ascended_housing
      }
      40 = { }
    }
  }
  # Ascended Housing III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_3 = yes
      NOT = { has_global_flag = ascended_housing_disabled }
    }
    random_list = {
      40 = {
        set_planet_flag = do_ascended_housing
      }
      60 = { }
    }
  }
  # Ascended Housing II
  every_system_planet = {
    limit = {
      has_previous_owner_2 = yes
      NOT = { has_global_flag = ascended_housing_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_ascended_housing
      }
      75 = { }
    }
  }
  # Ascended Housing I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_1 = yes
      NOT = { has_global_flag = ascended_housing_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_ascended_housing
      }
      90 = { }
    }
  }
######################################################################################
  # Ocean Housing V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_ocean_3 = yes
      NOT = { has_global_flag = ocean_housing_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_ocean_housing
      }
      0 = { }
    }
  }
  # Ocean Housing IV (Doesn't Exist)
  # Ocean Housing III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_ocean_2 = yes
      NOT = { has_global_flag = ocean_housing_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_ocean_housing
      }
      50 = { }
    }
  }
  # Ocean Housing II (Doesn't Exist)
  # Ocean Housing I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_ocean_1 = yes
      NOT = { has_global_flag = ocean_housing_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_ocean_housing
      }
      90 = { }
    }
  }
######################################################################################
  # Chemistry Industry V (Doesn't Exist)
  # Chemistry Industry IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_3 = yes
        has_geothermal_3 = yes
      }
      NOT = { has_global_flag = chemistry_industry_disabled }
    }
    random_list = {
      60 = {
        set_planet_flag = do_chemistry_industry
      }
      40 = { }
    }
  }
  # Chemistry Industry III (Doesn't Exist)
  # Chemistry Industry II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_2 = yes
        has_geothermal_2 = yes
        has_unstable_ground_2 = yes
      }
      NOT = { has_global_flag = chemistry_industry_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_chemistry_industry
      }
      75 = { }
    }
  }
  # Chemistry Industry I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_1 = yes
        has_geothermal_1 = yes
        has_unstable_ground_1 = yes
      }
      NOT = { has_global_flag = chemistry_industry_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_chemistry_industry
      }
      90 = { }
    }
  }
######################################################################################
  # Gas Refinery V (Doesn't Exist)
  # Gas Refinery IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_3 = yes
        has_geothermal_3 = yes
      }
      NOT = { has_global_flag = gas_refinery_disabled }
    }
    random_list = {
      60 = {
        set_planet_flag = do_gas_refinery
      }
      40 = { }
    }
  }
  # Gas Refinery III (Doesn't Exist)
  # Gas Refinery II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_2 = yes
        has_geothermal_2 = yes
        has_unstable_ground_2 = yes
      }
      NOT = { has_global_flag = gas_refinery_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_gas_refinery
      }
      75 = { }
    }
  }
  # Gas Refinery I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      OR = {
        has_exotic_climate_1 = yes
        has_geothermal_1 = yes
        has_unstable_ground_1 = yes
      }
      NOT = { has_global_flag = gas_refinery_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_gas_refinery
      }
      90 = { }
    }
  }
######################################################################################
  # Crystal Mines V (Doesn't Exist)
  # Crystal Mines IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_caves_3 = yes
      NOT = { has_global_flag = crystal_mines_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_crystal_mines
      }
      25 = { }
    }
  }
  # Crystal Mines III (Doesn't Exist)
  # Crystal Mines II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_caves_2 = yes
      NOT = { has_global_flag = crystal_mines_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_crystal_mines
      }
      75 = { }
    }
  }
  # Crystal Mines I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_caves_1 = yes
      NOT = { has_global_flag = crystal_mines_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_crystal_mines
      }
      90 = { }
    }
  }
######################################################################################
  # Nature Reserve V (Doesn't Exist)
  # Nature Reserve IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_3 = yes
      NOT = { has_global_flag = nature_reserve_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_nature_reserve
      }
      25 = { }
    }
  }
  # Nature Reserve III (Doesn't Exist)
  # Nature Reserve II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_2 = yes
      NOT = { has_global_flag = nature_reserve_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_nature_reserve
      }
      75 = { }
    }
  }
  # Nature Reserve I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_1 = yes
      NOT = { has_global_flag = nature_reserve_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_nature_reserve
      }
      90 = { }
    }
  }
######################################################################################
  # Research Complex V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_anomaly_5 = yes
      NOT = { has_global_flag = research_complex_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_research_complex
      }
      0 = { }
    }
  }
  # Research Complex IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_anomaly_4 = yes
      NOT = { has_global_flag = research_complex_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_research_complex
      }
      25 = { }
    }
  }
  # Research Complex III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_anomaly_3 = yes
      NOT = { has_global_flag = research_complex_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_research_complex
      }
      50 = { }
    }
  }
  # Research Complex II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_anomaly_2 = yes
      NOT = { has_global_flag = research_complex_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_research_complex
      }
      75 = { }
    }
  }
  # Research Complex I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_anomaly_1 = yes
      NOT = { has_global_flag = research_complex_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_research_complex
      }
      90 = { }
    }
  }
######################################################################################
  # Assembly V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_5 = yes
      NOT = { has_global_flag = assembly_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_assembly
      }
      0 = { }
    }
  }
  # Assembly IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_4 = yes
      NOT = { has_global_flag = assembly_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_assembly
      }
      25 = { }
    }
  }
  # Assembly III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_3 = yes
      NOT = { has_global_flag = assembly_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_assembly
      }
      50 = { }
    }
  }
  # Assembly II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_2 = yes
      NOT = { has_global_flag = assembly_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_assembly
      }
      75 = { }
    }
  }
  # Assembly I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_1 = yes
      NOT = { has_global_flag = assembly_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_assembly
      }
      90 = { }
    }
  }
######################################################################################
  # Tourism V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_interesting_places_5 = yes
      NOT = { has_global_flag = tourism_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_tourism
      }
      0 = { }
    }
  }
  # Tourism IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_interesting_places_4 = yes
      NOT = { has_global_flag = tourism_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_tourism
      }
      25 = { }
    }
  }
  # Tourism III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_interesting_places_3 = yes
      NOT = { has_global_flag = tourism_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_tourism
      }
      50 = { }
    }
  }
  # Tourism II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_interesting_places_2 = yes
      NOT = { has_global_flag = tourism_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_tourism
      }
      75 = { }
    }
  }
  # Tourism I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_interesting_places_1 = yes
      NOT = { has_global_flag = tourism_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_tourism
      }
      90 = { }
    }
  }
######################################################################################
  # Gardens V (Doesn't Exist)
  # Gardens IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_3 = yes
      NOT = { has_global_flag = gardens_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_gardens
      }
      25 = { }
    }
  }
  # Gardens III (Doesn't Exist)
  # Gardens II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_2 = yes
      NOT = { has_global_flag = gardens_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_gardens
      }
      75 = { }
    }
  }
  # Gardens I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_nature_1 = yes
      NOT = { has_global_flag = gardens_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_gardens
      }
      90 = { }
    }
  }
######################################################################################
  # Ecogardens V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_5 = yes
      has_nature_3 = yes
      NOT = { has_global_flag = ecogardens_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_gardens
      }
      0 = { }
    }
  }
  # Ecogardens IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_4 = yes
      has_nature_3 = yes
      NOT = { has_global_flag = ecogardens_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_ecogardens
      }
      25 = { }
    }
  }
  # Ecogardens III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_3 = yes
      has_nature_3 = yes
      NOT = { has_global_flag = ecogardens_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_ecogardens
      }
      50 = { }
    }
  }
  # Ecogardens II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_2 = yes
      has_nature_2 = yes
      NOT = { has_global_flag = ecogardens_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_ecogardens
      }
      75 = { }
    }
  }
  # Ecogardens I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_1 = yes
      has_nature_1 = yes
      NOT = { has_global_flag = ecogardens_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_ecogardens
      }
      90 = { }
    }
  }
######################################################################################
  # Archeology V
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_5 = yes
      NOT = { has_global_flag = archeology_disabled }
    }
    random_list = {
      100 = {
        set_planet_flag = do_archeology
      }
      0 = { }
    }
  }
  # Archeology IV
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_4 = yes
      NOT = { has_global_flag = archeology_disabled }
    }
    random_list = {
      75 = {
        set_planet_flag = do_archeology
      }
      25 = { }
    }
  }
  # Archeology III
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_3 = yes
      NOT = { has_global_flag = archeology_disabled }
    }
    random_list = {
      50 = {
        set_planet_flag = do_archeology
      }
      50 = { }
    }
  }
  # Archeology II
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_2 = yes
      NOT = { has_global_flag = archeology_disabled }
    }
    random_list = {
      25 = {
        set_planet_flag = do_archeology
      }
      75 = { }
    }
  }
  # Archeology I
  every_system_planet = {
    limit = {
      can_have_random_primary_districts = yes
      has_previous_owner_1 = yes
      NOT = { has_global_flag = archeology_disabled }
    }
    random_list = {
      10 = {
        set_planet_flag = do_archeology
      }
      90 = { }
    }
  }
##################
# Deposit System #
##################
  every_system_planet = {
    limit = {
      can_have_random_districts = yes
    }
    do_spawn_deposits = yes
    do_remove_all_planetary_deposits = yes
  }
}

do_planet_spawn_districts = {
  if = {
    limit = {
      can_have_random_districts = yes
    }
    if = {
      limit = { is_special_exotic_farming_pc = yes }
      set_planet_flag = do_exotic_farms
    }
    if = {
      limit = { is_planet_class = pc_relic }
      set_planet_flag = do_ascended_housing
      set_planet_flag = do_archeology
    }
    if = {
      limit = {
        OR = {
          is_planet_class = pc_aquatic
          is_planet_class = pc_aquatichot
          is_planet_class = pc_aquaticcold
          is_planet_class = pc_aquaticcity
        }
      }
      set_planet_flag = do_tidal_generator
      set_planet_flag = do_ocean_farming
      set_planet_flag = do_ocean_housing
    }
  #####################################
  # Energy: 3 = 70%, 2 = 50%, 1 = 20% #
  #####################################
    # Wind Turbines III
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_wind_3 = yes
        NOT = { has_global_flag = wind_turbines_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_wind_turbines
        }
        30 = { }
      }
    }
    # Geothermal Generator III
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_geothermal_3 = yes
        NOT = { has_global_flag = geothermal_generator_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_geothermal_generator
        }
        30 = { }
      }
    }
    # Solar Generator III
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_sun_3 = yes
        NOT = { has_global_flag = solar_generator_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_solar_generator
        }
        30 = { }
      }
    }
    # Tidal Generator III
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_ocean_3 = yes
        NOT = { has_global_flag = tidal_generator_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_tidal_generator
        }
        30 = { }
      }
    }
    # Wind Turbines II
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_wind_2 = yes
        NOT = { has_global_flag = wind_turbines_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_wind_turbines
        }
        50 = { }
      }
    }
    # Geothermal Generator II
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_geothermal_2 = yes
        NOT = { has_global_flag = geothermal_generator_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_geothermal_generator
        }
        50 = { }
      }
    }
    # Solar Generator II
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_sun_2 = yes
        NOT = { has_global_flag = solar_generator_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_solar_generator
        }
        50 = { }
      }
    }
    # Tidal Generator II
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_ocean_2 = yes
        NOT = { has_global_flag = tidal_generator_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_tidal_generator
        }
        50 = { }
      }
    }
    # Wind Turbines I
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_wind_1 = yes
        NOT = { has_global_flag = wind_turbines_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_wind_turbines
        }
        80 = { }
      }
    }
    # Geothermal Generator I
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_geothermal_1 = yes
        NOT = { has_global_flag = geothermal_generator_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_geothermal_generator
        }
        80 = { }
      }
    }
    # Solar Generator I
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_sun_1 = yes
        NOT = { has_global_flag = solar_generator_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_solar_generator
        }
        80 = { }
      }
    }
    # Tidal Generator I
    if = {
      limit = {
        can_have_random_energy_districts = yes
        has_ocean_1 = yes
        NOT = { has_global_flag = tidal_generator_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_tidal_generator
        }
        80 = { }
      }
    }
  ############################
  # Mining: 2 = 70%, 1 = 20% #
  ############################
    # Cheap Mining II
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_unstable_ground_2 = yes
        NOT = { has_global_flag = cheap_mining_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_cheap_mining
        }
        30 = { }
      }
    }
    # Secure Mining II
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_stable_ground_2 = yes
        NOT = { has_global_flag = secure_mining_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_secure_mining
        }
        30 = { }
      }
    }
    # Surface Mining II
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_surface_ores_2 = yes
        NOT = { has_global_flag = surface_mining_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_surface_mining
        }
        30 = { }
      }
    }
    # Cheap Mining I
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_unstable_ground_1 = yes
        NOT = { has_global_flag = cheap_mining_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_cheap_mining
        }
        80 = { }
      }
    }
    # Secure Mining I
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_stable_ground_1 = yes
        NOT = { has_global_flag = secure_mining_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_secure_mining
        }
        80 = { }
      }
    }
    # Surface Mining I
    if = {
      limit = {
        can_have_random_mining_districts = yes
        has_surface_ores_1 = yes
        NOT = { has_global_flag = surface_mining_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_surface_mining
        }
        80 = { }
      }
    }
  ######################################
  # Farming: 3 = 70%, 2 = 50%, 1 = 20% #
  ######################################
    # Exotic Farms III
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_exotic_climate_3 = yes
        NOT = { has_global_flag = exotic_farm_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_exotic_farms
        }
        30 = { }
      }
    }
    # Ocean Farms III
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_ocean_3 = yes
        NOT = { has_global_flag = ocean_farm_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_ocean_farming
        }
        30 = { }
      }
    }
    # Nature Farm III
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_nature_3 = yes
        NOT = { has_global_flag = nature_farms_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_nature_farms
        }
        30 = { }
      }
    }
    # Hydroponic Bay III
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_no_nature_3 = yes
        NOT = { has_global_flag = hydroponic_bay_disabled }
      }
      random_list = {
        70 = {
          set_planet_flag = do_hydropionic_bay
        }
        30 = { }
      }
    }
    # Exotic Farms II
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_exotic_climate_2 = yes
        NOT = { has_global_flag = exotic_farm_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_exotic_farms
        }
        50 = { }
      }
    }
    # Ocean Farms II
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_ocean_2 = yes
        NOT = { has_global_flag = ocean_farm_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_ocean_farming
        }
        50 = { }
      }
    }
    # Nature Farm II
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_nature_2 = yes
        NOT = { has_global_flag = nature_farms_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_nature_farms
        }
        50 = { }
      }
    }
    # Hydroponic Bay II
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_no_nature_2 = yes
        NOT = { has_global_flag = hydroponic_bay_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_hydropionic_bay
        }
        50 = { }
      }
    }
    # Exotic Farms I
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_exotic_climate_1 = yes
        NOT = { has_global_flag = exotic_farm_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_exotic_farms
        }
        80 = { }
      }
    }
    # Ocean Farms I
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_ocean_1 = yes
      }
      NOT = { has_global_flag = ocean_farm_disabled }
      random_list = {
        20 = {
          set_planet_flag = do_ocean_farming
        }
        80 = { }
      }
    }
    # Nature Farm I
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_nature_1 = yes
        NOT = { has_global_flag = nature_farms_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_nature_farms
        }
        80 = { }
      }
    }
    # Hydroponic Bay I
    if = {
      limit = {
        can_have_random_farming_districts = yes
        has_no_nature_1 = yes
        NOT = { has_global_flag = hydroponic_bay_disabled }
      }
      random_list = {
        20 = {
          set_planet_flag = do_hydropionic_bay
        }
        80 = { }
      }
    }
  #####################
  # Primary Districts #
  #####################

  ######################################################################################
    # Ascended Housing V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_5 = yes
        NOT = { has_global_flag = ascended_housing_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_ascended_housing
        }
        0 = { }
      }
    }
    # Ascended Housing IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_4 = yes
        NOT = { has_global_flag = ascended_housing_disabled }
      }
      random_list = {
        60 = {
          set_planet_flag = do_ascended_housing
        }
        40 = { }
      }
    }
    # Ascended Housing III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_3 = yes
        NOT = { has_global_flag = ascended_housing_disabled }
      }
      random_list = {
        40 = {
          set_planet_flag = do_ascended_housing
        }
        60 = { }
      }
    }
    # Ascended Housing II
    if = {
      limit = {
        has_previous_owner_2 = yes
        NOT = { has_global_flag = ascended_housing_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_ascended_housing
        }
        75 = { }
      }
    }
    # Ascended Housing I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_1 = yes
        NOT = { has_global_flag = ascended_housing_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_ascended_housing
        }
        90 = { }
      }
    }
  ######################################################################################
    # Ocean Housing V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_ocean_3 = yes
        NOT = { has_global_flag = ocean_housing_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_ocean_housing
        }
        0 = { }
      }
    }
    # Ocean Housing IV (Doesn't Exist)
    # Ocean Housing III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_ocean_2 = yes
        NOT = { has_global_flag = ocean_housing_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_ocean_housing
        }
        50 = { }
      }
    }
    # Ocean Housing II (Doesn't Exist)
    # Ocean Housing I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_ocean_1 = yes
        NOT = { has_global_flag = ocean_housing_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_ocean_housing
        }
        90 = { }
      }
    }
  ######################################################################################
    # Chemistry Industry V (Doesn't Exist)
    # Chemistry Industry IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_3 = yes
          has_geothermal_3 = yes
        }
        NOT = { has_global_flag = chemistry_industry_disabled }
      }
      random_list = {
        60 = {
          set_planet_flag = do_chemistry_industry
        }
        40 = { }
      }
    }
    # Chemistry Industry III (Doesn't Exist)
    # Chemistry Industry II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_2 = yes
          has_geothermal_2 = yes
          has_unstable_ground_2 = yes
        }
        NOT = { has_global_flag = chemistry_industry_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_chemistry_industry
        }
        75 = { }
      }
    }
    # Chemistry Industry I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_1 = yes
          has_geothermal_1 = yes
          has_unstable_ground_1 = yes
        }
        NOT = { has_global_flag = chemistry_industry_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_chemistry_industry
        }
        90 = { }
      }
    }
  ######################################################################################
    # Gas Refinery V (Doesn't Exist)
    # Gas Refinery IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_3 = yes
          has_geothermal_3 = yes
        }
        NOT = { has_global_flag = gas_refinery_disabled }
      }
      random_list = {
        60 = {
          set_planet_flag = do_gas_refinery
        }
        40 = { }
      }
    }
    # Gas Refinery III (Doesn't Exist)
    # Gas Refinery II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_2 = yes
          has_geothermal_2 = yes
          has_unstable_ground_2 = yes
        }
        NOT = { has_global_flag = gas_refinery_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_gas_refinery
        }
        75 = { }
      }
    }
    # Gas Refinery I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        OR = {
          has_exotic_climate_1 = yes
          has_geothermal_1 = yes
          has_unstable_ground_1 = yes
        }
        NOT = { has_global_flag = gas_refinery_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_gas_refinery
        }
        90 = { }
      }
    }
  ######################################################################################
    # Crystal Mines V (Doesn't Exist)
    # Crystal Mines IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_caves_3 = yes
        NOT = { has_global_flag = crystal_mines_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_crystal_mines
        }
        25 = { }
      }
    }
    # Crystal Mines III (Doesn't Exist)
    # Crystal Mines II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_caves_2 = yes
        NOT = { has_global_flag = crystal_mines_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_crystal_mines
        }
        75 = { }
      }
    }
    # Crystal Mines I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_caves_1 = yes
        NOT = { has_global_flag = crystal_mines_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_crystal_mines
        }
        90 = { }
      }
    }
  ######################################################################################
    # Nature Reserve V (Doesn't Exist)
    # Nature Reserve IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_3 = yes
        NOT = { has_global_flag = nature_reserve_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_nature_reserve
        }
        25 = { }
      }
    }
    # Nature Reserve III (Doesn't Exist)
    # Nature Reserve II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_2 = yes
        NOT = { has_global_flag = nature_reserve_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_nature_reserve
        }
        75 = { }
      }
    }
    # Nature Reserve I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_1 = yes
        NOT = { has_global_flag = nature_reserve_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_nature_reserve
        }
        90 = { }
      }
    }
  ######################################################################################
    # Research Complex V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_anomaly_5 = yes
        NOT = { has_global_flag = research_complex_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_research_complex
        }
        0 = { }
      }
    }
    # Research Complex IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_anomaly_4 = yes
        NOT = { has_global_flag = research_complex_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_research_complex
        }
        25 = { }
      }
    }
    # Research Complex III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_anomaly_3 = yes
        NOT = { has_global_flag = research_complex_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_research_complex
        }
        50 = { }
      }
    }
    # Research Complex II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_anomaly_2 = yes
        NOT = { has_global_flag = research_complex_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_research_complex
        }
        75 = { }
      }
    }
    # Research Complex I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_anomaly_1 = yes
        NOT = { has_global_flag = research_complex_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_research_complex
        }
        90 = { }
      }
    }
  ######################################################################################
    # Assembly V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_5 = yes
        NOT = { has_global_flag = assembly_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_assembly
        }
        0 = { }
      }
    }
    # Assembly IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_4 = yes
        NOT = { has_global_flag = assembly_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_assembly
        }
        25 = { }
      }
    }
    # Assembly III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_3 = yes
        NOT = { has_global_flag = assembly_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_assembly
        }
        50 = { }
      }
    }
    # Assembly II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_2 = yes
        NOT = { has_global_flag = assembly_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_assembly
        }
        75 = { }
      }
    }
    # Assembly I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_1 = yes
        NOT = { has_global_flag = assembly_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_assembly
        }
        90 = { }
      }
    }
  ######################################################################################
    # Tourism V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_interesting_places_5 = yes
        NOT = { has_global_flag = tourism_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_tourism
        }
        0 = { }
      }
    }
    # Tourism IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_interesting_places_4 = yes
        NOT = { has_global_flag = tourism_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_tourism
        }
        25 = { }
      }
    }
    # Tourism III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_interesting_places_3 = yes
        NOT = { has_global_flag = tourism_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_tourism
        }
        50 = { }
      }
    }
    # Tourism II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_interesting_places_2 = yes
        NOT = { has_global_flag = tourism_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_tourism
        }
        75 = { }
      }
    }
    # Tourism I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_interesting_places_1 = yes
        NOT = { has_global_flag = tourism_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_tourism
        }
        90 = { }
      }
    }
  ######################################################################################
    # Gardens V (Doesn't Exist)
    # Gardens IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_3 = yes
        NOT = { has_global_flag = gardens_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_gardens
        }
        25 = { }
      }
    }
    # Gardens III (Doesn't Exist)
    # Gardens II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_2 = yes
        NOT = { has_global_flag = gardens_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_gardens
        }
        75 = { }
      }
    }
    # Gardens I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_nature_1 = yes
        NOT = { has_global_flag = gardens_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_gardens
        }
        90 = { }
      }
    }
  ######################################################################################
    # Ecogardens V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_5 = yes
        has_nature_3 = yes
        NOT = { has_global_flag = ecogardens_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_gardens
        }
        0 = { }
      }
    }
    # Ecogardens IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_4 = yes
        has_nature_3 = yes
        NOT = { has_global_flag = ecogardens_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_ecogardens
        }
        25 = { }
      }
    }
    # Ecogardens III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_3 = yes
        has_nature_3 = yes
        NOT = { has_global_flag = ecogardens_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_ecogardens
        }
        50 = { }
      }
    }
    # Ecogardens II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_2 = yes
        has_nature_2 = yes
        NOT = { has_global_flag = ecogardens_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_ecogardens
        }
        75 = { }
      }
    }
    # Ecogardens I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_1 = yes
        has_nature_1 = yes
        NOT = { has_global_flag = ecogardens_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_ecogardens
        }
        90 = { }
      }
    }
  ######################################################################################
    # Archeology V
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_5 = yes
        NOT = { has_global_flag = archeology_disabled }
      }
      random_list = {
        100 = {
          set_planet_flag = do_archeology
        }
        0 = { }
      }
    }
    # Archeology IV
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_4 = yes
        NOT = { has_global_flag = archeology_disabled }
      }
      random_list = {
        75 = {
          set_planet_flag = do_archeology
        }
        25 = { }
      }
    }
    # Archeology III
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_3 = yes
        NOT = { has_global_flag = archeology_disabled }
      }
      random_list = {
        50 = {
          set_planet_flag = do_archeology
        }
        50 = { }
      }
    }
    # Archeology II
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_2 = yes
        NOT = { has_global_flag = archeology_disabled }
      }
      random_list = {
        25 = {
          set_planet_flag = do_archeology
        }
        75 = { }
      }
    }
    # Archeology I
    if = {
      limit = {
        can_have_random_primary_districts = yes
        has_previous_owner_1 = yes
        NOT = { has_global_flag = archeology_disabled }
      }
      random_list = {
        10 = {
          set_planet_flag = do_archeology
        }
        90 = { }
      }
    }
  ##################
  # Deposit System #
  ##################
    do_spawn_deposits = yes
    do_remove_all_planetary_deposits = yes
  }
}

reroll_districts = {
  if = {
    limit = { has_planet_flag = do_wind_turbines }
    remove_planet_flag = do_wind_turbines
  }
  if = {
    limit = { has_planet_flag = do_geothermal_generator }
    remove_planet_flag = do_geothermal_generator
  }
  if = {
    limit = { has_planet_flag = do_solar_generator }
    remove_planet_flag = do_solar_generator
  }
  if = {
    limit = { has_planet_flag = do_tidal_generator }
    remove_planet_flag = do_tidal_generator
  }
  if = {
    limit = { has_planet_flag = do_cheap_mining }
    remove_planet_flag = do_cheap_mining
  }
  if = {
    limit = { has_planet_flag = do_secure_mining }
    remove_planet_flag = do_secure_mining
  }
  if = {
    limit = { has_planet_flag = do_surface_mining }
    remove_planet_flag = do_surface_mining
  }
  if = {
    limit = { has_planet_flag = do_hydropionic_bay }
    remove_planet_flag = do_hydropionic_bay
  }
  if = {
    limit = { has_planet_flag = do_nature_farms }
    remove_planet_flag = do_nature_farms
  }
  if = {
    limit = { has_planet_flag = do_ocean_farming }
    remove_planet_flag = do_ocean_farming
  }
  if = {
    limit = { has_planet_flag = do_efficient_farms }
    remove_planet_flag = do_efficient_farms
  }
  if = {
    limit = { has_planet_flag = do_exotic_farms }
    remove_planet_flag = do_exotic_farms
  }
  if = {
    limit = { has_planet_flag = do_chemistry_industry }
    remove_planet_flag = do_chemistry_industry
  }
  if = {
    limit = { has_planet_flag = do_gas_refinery }
    remove_planet_flag = do_gas_refinery
  }
  if = {
    limit = { has_planet_flag = do_crystal_mines }
    remove_planet_flag = do_crystal_mines
  }
  if = {
    limit = { has_planet_flag = do_nature_reserve }
    remove_planet_flag = do_nature_reserve
  }
  if = {
    limit = { has_planet_flag = do_research_complex }
    remove_planet_flag = do_research_complex
  }
  if = {
    limit = { has_planet_flag = do_assembly }
    remove_planet_flag = do_assembly
  }
  if = {
    limit = { has_planet_flag = do_tourism }
    remove_planet_flag = do_tourism
  }
  if = {
    limit = { has_planet_flag = do_gardens }
    remove_planet_flag = do_gardens
  }
  if = {
    limit = { has_planet_flag = do_ecogardens }
    remove_planet_flag = do_ecogardens
  }
  if = {
    limit = { has_planet_flag = do_archeology }
    remove_planet_flag = do_archeology
  }
  if = {
    limit = { has_planet_flag = do_ascended_housing }
    remove_planet_flag = do_ascended_housing
  }
  if = {
    limit = { has_planet_flag = do_ocean_housing }
    remove_planet_flag = do_ocean_housing
  }
  if = {
    limit = { can_have_random_districts = yes }
    #do_planet_spawn_districts = yes
  }
  else = {
    do_remove_all_planetary_deposits = yes
  }
}
